(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{465:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));const s={AUTHOR_PAPER:"authorPaper",PAPER_CITATION:"paperCitation",PAPER_REFERENCE:"paperReference"}},516:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var s=r(388),o=r(394),a=r(376),i=r(364),n=r(123),c=r(133),u=r(411),l=r(60),h=r(514),p=r(105),g=r(41),d=r(9),m=r(138),S=r(80),b=r(387),y=r(465),f=r(37),E=r(378),O=r(367),P=r(363),T=r.n(P),x=r(0),C=r(8),w=r.n(C),R=r(14);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j extends R.Component{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];super(e,...r),A(this,"fetchSuggestions",void 0),A(this,"doFetchSuggestions",()=>{const{queryText:e}=this.state,{suggestionType:t}=this.props;if(!(e.length<3))switch(t){case y.a.PAPER_CITATION:this.fetchPaperCitationCompletions();break;case y.a.PAPER_REFERENCE:this.fetchPaperReferenceCompletions();break;case y.a.AUTHOR_PAPER:this.fetchAuthorPaperCompletions();break;default:return void d.a.warn(`Invalid: SuggestionType ${t} is not associated with a completion call.`)}}),A(this,"fetchPaperCitationCompletions",()=>{const{paperDetail:e,queryText:t}=this.state,{api:r}=this.context;if(!e)return;const s=e.paper.id;r.fetchCitationCompletions({paperId:s,prefixQuery:t}).then(e=>this.setSuggestions(e,!1))}),A(this,"fetchPaperReferenceCompletions",()=>{const{paperDetail:e,queryText:t}=this.state,{api:r}=this.context,s=e.paper.id;r.fetchReferenceCompletions({paperId:s,prefixQuery:t}).then(e=>this.setSuggestions(e,!1))}),A(this,"fetchAuthorPaperCompletions",()=>{const{authorDetail:e,queryText:t}=this.state,{api:r}=this.context;if(!e)return;const s=e.author.id;r.fetchAuthorPaperCompletions({authorId:s,prefixQuery:t}).then(e=>this.setSuggestions(e,!0))}),A(this,"setSuggestions",(e,t)=>{const{queryText:r}=this.state,s=x.b.List(e.resultData.completions);t&&s.map(e=>{e.completionType===h.a.AUTHOR.pluralId&&(e.completionType=h.a.COAUTHOR.pluralId)}),this.setState(e=>{const t=e.queryText===r?r:e.suggestQueryText;return{suggestions:s,suggestQueryText:t}})}),A(this,"onChangeQueryText",e=>{const t=e.currentTarget.value;t.length>=3?this.setState({queryText:t,showSuggestions:!0,selectedSuggestionIndex:null},this.fetchSuggestions):this.setState({queryText:t,suggestQueryText:t,showSuggestions:!1,selectedSuggestionIndex:null})}),A(this,"clickSuggestion",()=>{this.setState({showSuggestions:!1},this.toggleFacetToSelectedSuggestion()),this.props.onSearchbarCondense&&this.props.onSearchbarCondense()}),A(this,"toggleFacetToSelectedSuggestion",()=>{const{selectedSuggestionIndex:e,suggestions:t}=this.state,{injectQueryStore:r}=this.props,{router:s}=this.context;if(null===e)return;const o=e||0,a=t.get(o),i=a.completionType,n=a.completion.text;switch(i){case h.a.AUTHOR.pluralId:r.routeToToggleFilter(h.a.AUTHOR.id,n,s);break;case h.a.COAUTHOR.pluralId:r.routeToToggleFilter(h.a.COAUTHOR.id,n,s);break;case h.a.VENUE.id:r.routeToToggleFilter(h.a.VENUE.id,n,s);break;case h.a.FIELDS_OF_STUDY.pluralId:{const e=Object(p.c)(n);r.routeToToggleFilter(h.a.FIELDS_OF_STUDY.pluralId,e.id,s);break}}}),A(this,"onSubmitQueryString",e=>{e.preventDefault();const{router:t}=this.context,{injectQueryStore:r,suggestionType:s}=this.props,o=this.state.queryText.trim();r.routeToQueryString(o,t);const a=this.getEventTarget(s);Object(f.a)(b.a.create(a,{queryString:o}))}),A(this,"onKeyDown",e=>{const{selectedSuggestionIndex:t,suggestions:r}=this.state,s=t||0;switch(e.keyCode){case E.b:null!==t&&(e.preventDefault(),this.clickSuggestion());break;case E.h:null!==t&&(e.preventDefault(),this.clickSuggestion(),this.setState({showSuggestions:!1,selectedSuggestionIndex:null}));break;case E.c:this.setState({queryText:"",suggestQueryText:"",showSuggestions:!1,selectedSuggestionIndex:null});break;case E.i:this.state.showSuggestions&&!r.isEmpty()&&(e.preventDefault(),null===t?this.selectSuggestion(r.size-1):0===t?this.selectNone():this.selectSuggestion(s-1));break;case E.a:this.state.showSuggestions&&!r.isEmpty()&&(e.preventDefault(),null===t?this.selectSuggestion(0):t===r.size-1?this.selectNone():this.selectSuggestion(s+1))}}),A(this,"onFocus",()=>{this.props.onSearchbarFocus&&this.props.onSearchbarFocus(),this.setState({showSuggestions:!0},this.fetchSuggestions)}),A(this,"onBlur",()=>{this.setState({showSuggestions:!1})});const o=this.getStateFromQueryStore(),{queryText:a}=o;this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},o,{},this.getStateFromPaperStore(),{},this.getStateFromAuthorStore(),{suggestQueryText:a,showSuggestions:!1,suggestions:x.b.List(),selectedSuggestionIndex:null}),this.props.injectQueryStore.registerComponent(this,()=>{const{queryText:e}=this.getStateFromQueryStore();this.setState({queryText:e,suggestQueryText:e,suggestions:x.b.List()})}),this.context.paperStore.registerComponent(this,()=>{this.setState(this.getStateFromPaperStore())}),this.context.authorStore.registerComponent(this,()=>{this.setState(this.getStateFromAuthorStore())})}componentDidMount(){this.fetchSuggestions=Object(u.a)(this.doFetchSuggestions,400,{leading:!0,trailing:!0})}componentWillUnmount(){this.fetchSuggestions&&this.fetchSuggestions.cancel()}getStateFromQueryStore(){return{query:this.props.injectQueryStore.getQuery(),queryText:this.props.injectQueryStore.getQuery().queryString||""}}getStateFromPaperStore(){return{paperDetail:this.context.paperStore.getPaperDetail()}}getStateFromAuthorStore(){return{authorDetail:this.context.authorStore.getAuthorDetails()}}getEventTarget(e){switch(e){case y.a.PAPER_CITATION:case y.a.PAPER_REFERENCE:return l.a.PaperDetail.Citations.SEARCH;case y.a.AUTHOR_PAPER:return l.a.AuthorHomePage.Publications.SEARCH;default:return d.a.warn(`Invalid: SuggestionType ${e} is not associated with an event target.`),""}}onSuggestionMouseDown(e){e.preventDefault()}selectSuggestion(e,t){this.setState({selectedSuggestionIndex:e},t)}selectNone(){this&&this.setState({selectedSuggestionIndex:null})}shouldDisplaySuggestions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state;return e.showSuggestions&&!e.suggestions.isEmpty()}renderSuggestions(){const{selectedSuggestionIndex:e,suggestions:t}=this.state;return R.createElement("ul",{className:"suggestion-dropdown-menu","data-test-id":"citations-autocomplete-suggestions",onMouseLeave:this.selectNone,role:"listbox"},t.map((r,s)=>{let{completionType:o,completion:i}=r;const n=T()("flex-row-vcenter suggestion truncate-line",{cursor:s===e,"border-bottom":s!==t.size-1}),c=o?Object(g.c)(e=>e.filterBar.shortLabels[o]):"",u=Object(O.d)({onClick:()=>{this.selectSuggestion(s,()=>{this.clickSuggestion()})}});return R.createElement("li",_({key:`${i.text} ${s}`,"data-test-id":`citations-${o}-suggestion`,className:n,role:"option","aria-selected":e===s,onMouseEnter:()=>this.selectSuggestion(s),onMouseDown:this.onSuggestionMouseDown},u),R.createElement(a.c,{className:"suggestion__text truncate-line",field:i}),o&&R.createElement("span",{className:"suggestion-text-type"}," ",c))}))}render(){const{formId:e,containerClass:t,placeholder:r,isSearchbarFocused:a,suggestionType:n}=this.props,{queryText:c}=this.state;return R.createElement("form",{id:e||"dropdown-filters__search-within-form",className:"dropdown-filters__search-within-form",role:"search",onSubmit:this.onSubmitQueryString},R.createElement(o.a,{className:t||"search-within"},R.createElement(s.default,{type:"search",name:"cite_q",id:"search-within-input",className:T()("dropdown-filters__search-within-input",{expanded:a,"author-search":n===y.a.AUTHOR_PAPER}),autoComplete:"off",onChange:this.onChangeQueryText,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,placeholder:r,value:c,"data-test-id":"search-within-input"}),R.createElement("button",{"aria-label":Object(g.c)(e=>e.appHeader.searchSubmitAriaLabel),className:"form-submit form-submit__icon-text","data-test-id":"submit-search-within-input"},R.createElement("div",{className:"flex-row-vcenter"},R.createElement(i.a,{width:"14",height:"14",icon:"search-small"})))),this.shouldDisplaySuggestions()?this.renderSuggestions():null)}}A(j,"contextTypes",{api:w.a.instanceOf(n.a).isRequired,authorStore:w.a.instanceOf(c.a).isRequired,history:w.a.instanceOf(S.a).isRequired,paperStore:w.a.instanceOf(m.b).isRequired,router:w.a.object.isRequired})},583:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var s=r(458),o=r(364),a=r(365),i=r(367),n=r(363),c=r.n(n),u=r(14);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends u.PureComponent{constructor(){super(...arguments),h(this,"onToggleClick",()=>{this.setState(e=>{let{isCollapsed:t}=e;return{isCollapsed:!t}}),this.props.onToggle&&this.props.onToggle()}),h(this,"_onClickKeyDownProps",Object(i.d)({onClick:this.onToggleClick})),this.state={isCollapsed:!(!this.props.isCollapsible||this.props.startOpen)}}renderTitle(){const{icon:e,title:t}=this.props;return u.createElement("span",{className:"info-box__title flex-row-vcenter"},e?u.createElement(o.a,{icon:e,className:"flex-static",width:"25",height:"25"}):null,u.createElement("h3",null,t))}renderHeader(){const{isCollapsible:e,title:t,titleLinkProps:r}=this.props,{isCollapsed:o}=this.state,i=o?s.a.Direction.DOWN:s.a.Direction.UP;return t?u.createElement("div",l({className:"info-box__header flex-row-vcenter flex-space-between"},this._onClickKeyDownProps,{role:"button",tabIndex:"0"}),r?u.createElement(a.a,r,this.renderTitle()):this.renderTitle(),e?u.createElement("span",{className:"info-box__toggle"},u.createElement(s.a,{className:"flex-static",direction:i,width:"14",height:"14"})):null):null}render(){const{className:e,children:t}=this.props,{isCollapsed:r}=this.state,s=c()("info-box",e);return u.createElement("div",{className:s},this.renderHeader(),r?null:u.createElement("div",{className:"info-box__content"},t))}}h(p,"defaultProps",{isCollapsible:!1,startOpen:!1})},724:function(e,t,r){"use strict";r.r(t);var s=r(383),o=r(373),a=r(403),i=r(406),n=r(427),c=r(393),u=r(605),l=r(582),h=r(364),p=r(583),g=r(123),d=r(374),m=r(60),S=r(61),b=r(12),y=r(62),f=r(37),E=r(365),O=r(363),P=r.n(O),T=r(0),x=r(8),C=r.n(x),w=r(14),R=r.n(w);function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=e=>{let{influentialCitationCount:t}=e;return R.a.createElement("span",{className:"matched-author-list__citations"},R.a.createElement("span",{className:"matched-author-list__comma-prefix"},", "),R.a.createElement("em",{className:"text--orange"},Object(S.d)(t))," highly influential"," ",Object(S.j)(t,"citation","citations",!0))};v.propTypes={influentialCitationCount:C.a.number.isRequired};class A extends w.PureComponent{constructor(){super(...arguments),_(this,"trackAuthorLinkClick",()=>{Object(f.a)(d.a.create(m.a.Serp.MATCHED_AUTHOR,{authorId:this.props.author.id,index:this.props.index}))})}render(){return R.a.createElement("div",null,R.a.createElement(E.a,{to:"AUTHOR_PROFILE",params:{authorId:this.props.author.id,slug:this.props.author.slug},onClick:this.trackAuthorLinkClick,className:"matched-author-list__author-name"},R.a.createElement("em",null,this.props.author.name)),this.props.author.influentialCitationCount>0?R.a.createElement(v,{influentialCitationCount:this.props.author.influentialCitationCount}):null)}}_(A,"propTypes",{author:C.a.object.isRequired,index:C.a.number.isRequired,displayAsInfoBox:C.a.bool}),_(A,"defaultProps",{displayAsInfoBox:!1});class j extends w.PureComponent{constructor(){super(...arguments),_(this,"toggleDisplayLimit",()=>{this.setState(e=>{const t=3===e.limit?this.props.authors.size:3;return Object(f.a)(d.a.create(m.a.Serp.MATCHED_AUTHOR_LIST_TOGGLE,{more:t===this.props.authors.size})),{limit:t}})}),_(this,"submitMatchError",()=>{const e=this.props.authors.map(e=>{const t=Object(b.f)({routeName:"AUTHOR_PROFILE_BY_ID",params:{authorId:e.id}}),r=`${document.location.protocol}//${document.location.host}${t}`;return{id:e.id,name:e.name,href:r}}),t={query:this.props.queryString,matchedAuthors:e};this.context.api.submitFeedback("Potential Author Match Issue | "+JSON.stringify(t),"s2-author-match-error@allenai.org"),this.setState({hasReportedProblem:!0})}),this.state={limit:3,hasReportedProblem:!0,hideReportProblem:!0}}componentDidMount(){Object(f.a)(y.a.create(m.a.Serp.MATCHED_AUTHOR_LIST,{count:this.props.authors.size,authorIds:JSON.stringify(this.props.authors.map(e=>e.id))}))}componentDidUpdate(){this.state.hasReportedProblem&&!this.hideReportProblem&&(this.hideReportProblemsTimer=setTimeout(this.setState.bind(this,{hideReportProblem:!0}),5e3))}componentWillUnmount(){this.hideReportProblemsTimer&&clearTimeout(this.hideReportProblemsTimer)}renderAuthorList(){const e=this.props.authors.take(this.state.limit),t=this.props.authors.size>3,r=P()("matched-author-list__report-problems",{"matched-author-list__report-problems--with-divider":t,"matched-author-list__report-problems--problem-reported":this.state.hasReportedProblem});return R.a.createElement("div",{className:"matched-author-list"},this.props.displayAsInfoBox?null:R.a.createElement("div",{className:"flex-row-vcenter"},R.a.createElement(h.a,{icon:"author",className:"matched-author-list__header-icon",width:"18",height:"18"}),R.a.createElement("span",null,"Author profiles for ",R.a.createElement("em",null,this.props.queryString),":")),R.a.createElement("ul",null,e.map((e,t)=>R.a.createElement("li",{key:`matched-author-${e.id}-${t}`},R.a.createElement(A,{author:e,index:t})))),t?R.a.createElement("button",{onClick:this.toggleDisplayLimit,className:"link-button","data-test-id":"matched-author-list-toggle"},this.props.authors.size>this.state.limit?"See More":"See Less"):null,!this.state.hideReportProblem&&this.props.authors.size>1?R.a.createElement("span",{className:r},this.state.hasReportedProblem?R.a.createElement("span",null,R.a.createElement(h.a,{icon:"check",width:"14",height:"14"})," Thanks! We’ll look into it."):R.a.createElement("button",{onClick:this.submitMatchError,className:"link-button"},"Report duplicate authors")):null)}render(){return this.props.displayAsInfoBox?R.a.createElement(p.a,{title:"Authors",icon:"author"},this.renderAuthorList()):this.renderAuthorList()}}_(j,"propTypes",{authors:C.a.instanceOf(T.b.List).isRequired,queryString:C.a.string.isRequired}),_(j,"contextTypes",{api:C.a.instanceOf(g.a).isRequired});var N=r(464),D=r(444),I=r(443),q=r(66),F=r(41),k=r(151),Q=r(42),L=r(35),H=r(11),U=r(15),M=r(80),B=r(516),V=r(27),Y=r(387),z=r(465),$=r(74),W=r(366),K=r(122),J=r(87),G=r(143),X=r(125),Z=r(176),ee=r.n(Z);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class oe extends w.PureComponent{constructor(){super(...arguments),se(this,"onChangeSort",e=>{this.context.authorQueryStore.routeToSort(e,this.context.router)}),se(this,"onChangeYearFilter",(e,t)=>{const{authorQueryStore:r,router:s}=this.context;r.routeToYearRange(e,t,s)}),se(this,"onChangeSearchQuery",e=>{this.setState({queryString:e.currentTarget.value})}),se(this,"onSearchbarFocus",()=>{this.setState({isSearchbarFocused:!0})}),se(this,"onSearchbarCondense",()=>{const e=document.getElementById("search-within-input");e&&e.blur(),this.setState({isSearchbarFocused:!1})}),se(this,"onSearchWithin",e=>{e.preventDefault();const t=(this.state.queryString||this.props.queryString).trim(),r=this.props.query.merge({queryString:t,page:1});U.a.changeRouteForQuery(r,this.context.history,this.context.router),Object(f.a)(Y.a.create(m.a.AuthorHomePage.Publications.SEARCH,{queryString:t}))}),se(this,"clearQueryString",()=>{this.setState({queryString:""})}),se(this,"loadPage",e=>{if(e!==this.props.query.page){const t=ee.a.findDOMNode(this);let r=null;t instanceof HTMLElement&&(r=Q.a.offsetFromBody(t)),Q.a.scrollTop(this.props.layoutOptions.scrollToTopOfPage?0:r),this.context.authorQueryStore.routeToPage(e,this.context.router)}}),se(this,"trackAuthorClick",e=>{let{paper:t,eventData:r,compData:s}=e;const{analyticsLocation:a}=this.context,{authorId:i}=s;Object(q.c)(re({},Object(q.a)(this.context.authorQueryStore,{paperSha:t.id,paperIndex:r.index}),{authorId:parseInt(i)})),Object(o.d)({paper:t,analyticsLocation:a,eventData:r,compData:s})}),this.state={isSearchbarFocused:!1,queryString:null}}componentDidMount(){const{isCompact:e,isMobile:t}=this.props;!t&&e?Object(f.a)(y.a.create(m.a.AuthorHomePage.DENSE_PAPER_VIEW)):Object(f.a)(y.a.create(m.a.AuthorHomePage.NORMAL_PAPER_VIEW))}renderStats(e){if(!(e.citationStats.numCitations>0||Object(G.b)(e.citationStats)))return null;const{publicationSort:t}=this.props,r=t===V.a.INFLUENTIAL_CITATIONS.id;return w.createElement(n.default,{paper:e,hic:r})}renderResults(){const{authorDetail:e,isCompact:t,isMobile:r,query:s,response:{results:n},isPaperRowV2FontOnly:u}=this.props,l=!r&&t,h=P()("author-page-details__paper-row",{"paper-row-dense":l,"paper-row-normal":!l,"paper-v2-font-only":u});return n.map((t,r)=>{var n;return w.createElement(o.c,{key:t.id,paper:t,eventData:{authorId:null==e||null===(n=e.author)||void 0===n?void 0:n.id,index:(s.page-1)*s.pageSize+r},onClickAuthor:this.trackAuthorClick,onHoverStats:!0},w.createElement(i.default,{paper:t,className:h,controls:w.createElement(a.default,{paper:t,stats:this.renderStats(t)}),abstract:!l&&w.createElement(D.b,{paper:t,query:s.queryString}),title:w.createElement(c.default,{paper:t,titleTagName:"h2"})}))})}renderNoResults(){var e;const{querySuggestions:t}=this.props.response,r=!(t&&!t.isEmpty())||null===(e=t.first())||void 0===e?void 0:e.text;return w.createElement(l.a,{query:this.props.query.queryString,hasFacets:Object(J.c)(this.props.response),suggestedQuery:r})}renderSearchControl(){const{isSearchbarFocused:e}=this.state,{authorQueryStore:t,envInfo:r}=this.context;return r.isMobile?null:w.createElement(w.Fragment,null,w.createElement(B.a,{formId:"author-paper-search-text-form",containerClass:"search-within",placeholder:Object(F.c)(e=>e.author.searchPlaceholder),suggestionType:z.a.AUTHOR_PAPER,injectQueryStore:t,isSearchbarFocused:e,onSearchbarCondense:this.onSearchbarCondense,onSearchbarFocus:this.onSearchbarFocus,useOverlay:!0}),e&&w.createElement("div",{className:"dropdown-filters__modal-button"},w.createElement(W.default,{type:W.TYPE.SECONDARY,label:Object(F.c)(e=>e.filterBar.dropdownLabels.showFilters),onClick:this.onSearchbarCondense})))}render(){const{isSearchbarFocused:e}=this.state,{layoutOptions:t,isFiltering:r,response:o,query:a}=this.props,{authorQueryStore:i}=this.context,{results:n,matchedAuthors:c}=o;return w.createElement("div",{className:"author-papers-search"},c.isEmpty()?null:w.createElement(j,{queryString:a.queryString,authors:c}),w.createElement(u.a,{className:"author-page-content__filters dropdown-filters-breakpoints__ahp",config:I.a,onChangeYearFilter:this.onChangeYearFilter,query:a,response:o,sortControl:w.createElement(N.a,{className:"dropdown-filters__sort-control",onChangeSort:this.onChangeSort,options:t.sorts,sort:a.sort}),injectQueryStore:i,isSearchbarFocused:e,doFullQueryReset:!0,searchControl:this.renderSearchControl()}),w.createElement("div",{className:P()("result-page",{"is-filtering":r}),"data-test-id":"result-page","data-selenium-is-filtering":r||void 0},n.isEmpty()?this.renderNoResults():this.renderResults()),w.createElement("div",{className:"flex-row"},o.totalPages>1&&w.createElement(s.default,{onPaginate:this.loadPage,pageNumber:a.page,totalPages:o.totalPages,"data-test-id":"result-page-pagination"})))}}se(oe,"contextTypes",{analyticsLocation:C.a.object,authorQueryStore:C.a.instanceOf(k.a).isRequired,envInfo:C.a.instanceOf(X.a).isRequired,history:C.a.instanceOf(M.a).isRequired,router:C.a.object.isRequired,userPrefsStore:C.a.instanceOf($.b).isRequired});var ae=Object(K.c)(oe,e=>{const t=Object(K.e)(e.authorStore,e=>({isLoading:e.isLoading(),authorDetail:e.getAuthorDetails()})),r=Object(K.e)(e.authorQueryStore,e=>({isLoading:e.isLoading(),queryStoreState:e.getQueryState(),query:e.getQuery(),queryString:e.getQueryString(),response:e.getQueryResponse(),isFiltering:e.getQueryState()===H.a.FILTERING,publicationSort:e.getSort()}));return re({},t,{},r,{},{isMobile:e.envInfo.isMobile},{},Object(K.e)(e.userPrefsStore,e=>({isCompact:!!e.getLocalPreference($.a.DENSE_PAPER_VIEW)})),{},Object(K.e)(e.weblabStore,e=>({isPaperRowV2FontOnly:e.isVariationEnabled(L.b.PaperRowV2FontOnly.KEY,L.b.PaperRowV2FontOnly.Variation.PAPER_ROW_V2_FONT_ONLY)})),{isLoading:r.isLoading&&t.isLoading})}),ie=r(584);function ne(){const e=new ie.a({showSortExplanation:!0,filtersExpandedByDefault:!0,showResultCount:!1,sortDisplayType:"tabs",scrollToTopOfPage:!1,searchResultLayout:{showSortStat:!0},sorts:V.a.authorPaperSearch()});return R.a.createElement("div",{className:"author-papers-page"},R.a.createElement("div",{className:"author-page-content-section"},R.a.createElement("div",{className:"results"},R.a.createElement(ae,{layoutOptions:e}))))}r.d(t,"default",(function(){return ne}))}}]);
//# sourceMappingURL=bundle-41.js.map